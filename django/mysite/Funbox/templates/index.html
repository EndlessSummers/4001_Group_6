<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <meta content="Page description" name="description">
  <meta name="google" content="notranslate" />
  <meta content="Mashup templates have been developped by Orson.io team" name="author">

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">
  
  <link href="./assets/apple-icon-180x180.png" rel="apple-touch-icon">
  <link href="./assets/apple-icon-180x180.png" rel="icon">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script> -->

  <title>Title page</title>  

  <link href="{% static 'css/external.css' %}" rel="stylesheet">
  <link href="{% static 'css/main.css' %}" rel="stylesheet">
</head>

<body>
<header class="">
  <div class="navbar navbar-default visible-xs">
    <button type="button" class="navbar-toggle collapsed">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a href="/" class="navbar-brand"> FunBox </a>
  </div>

  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <div class="range">
      <a>Time&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</a>
      <input id="Timerange" type="range" value="-1" oninput="changeV('Time')" onchange="changeV('Time')" min=0 max=9
        step=1>
      <a class="rangevalue" id="Timevalue"></span>
        <a>Participant</a>
        <input id="Participantrange" type="range" value="-1" oninput="changeV('Participant')"
          onchange="changeV('Participant')" min=1 max=11 step=1>
        <a class="rangevalue" id="Participantvalue"></span>
          <a>Place&nbsp&nbsp&nbsp&#8195&#8195
            <label for="Home">
              <input type="checkbox" name="PlaceChoice" value="Home" id="Home">&nbspHome&#8195
            </label>
            <label for="Outdoor">
              <input type="checkbox" name="PlaceChoice" value="Outdoor" id="Outdoor">&nbspOutdoor&#8195
            </label>
            <label for="Center">
              <input type="checkbox" name="PlaceChoice" value="Center" id="Center">&nbspCity Center&#8195
            </label>
            <label for="Interest">
              <input type="checkbox" name="PlaceChoice" value="Interest" id="Interest">&nbspPlace of interest&#8195
            </label>
          </a>
          <a>Tags&nbsp&nbsp&nbsp</a>
          <a style="color: rgb(163, 163, 163); font-weight: 100;">Click a tag to like it, Double click a tag to dislike it.</a>
          <a class="Tagsbox">
            <label for="Film">
              <input type="button" id="Film" class="rangevalue" onclick="ChangeTags('Film')" value="0" hidden>
              <i id="Filmtag" title="Like">Film & TV</i>
            </label>
            <label for="Game">
              <input type="button" id="Game" class="rangevalue" onclick="ChangeTags('Game')" value="0" hidden>
              <i id="Gametag" title="Like">Game</i>
            </label>
            <label for="Music">
              <input type="button" id="Music" class="rangevalue" onclick="ChangeTags('Music')" value="0" hidden>
              <i id="Musictag" title="Like">Music</i>
            </label>
            <label for="Cooking">
              <input type="button" id="Cooking" class="rangevalue" onclick="ChangeTags('Cooking')" value="0" hidden>
              <i id="Cookingtag" title="Like">Cooking & Food</i>
            </label>
            <label for="Sports">
              <input type="button" id="Sports" class="rangevalue" onclick="ChangeTags('Sports')" value="0" hidden>
              <i id="Sportstag" title="Like">Sports</i>
            </label>
            <label for="Handwork">
              <input type="button" id="Handwork" class="rangevalue" onclick="ChangeTags('Handwork')" value="0" hidden>
              <i id="Handworktag" title="Like">Handwork</i>
            </label>
          </a>
          &#8195&#8195
          <a class="btn btn-primary btn-sm" style="width: 150px; padding-left: 0%; padding-right: 0%;"
            onclick="ClearTags()">
            Clear all choices
          </a>
    </div>
  </div>


  <nav class="sidebar">
    <div class="navbar-collapse" id="navbar-collapse">
      <div class="site-header hidden-xs">
          <a class="site-brand" href="/" title="">
            <img class="img-responsive site-logo" alt="" src="/static/imgs/funbox.png" style="width: 200px; height: 100px;">
            FunBox
          </a>
      </div>
      <ul class="nav">
        <div class="user-profile" onclick="load(event, 'edit')" id="user-profile" style="{{profile_style}}">
          <img alt="" src="/static/imgs/Nick_Wilde.jpeg" id="user_picture">
          <p>Nick_Wilde<br> {{user_email}} </p>
        </div>
        <li><a href="/" title="" >Home</a></li>
        <li><a onclick="openNav()" title="">Recommendation</a></li>
        <li><a onclick="load(event, 'help')" title="">Help</a></li>
      </ul>

      <nav class="nav-footer">
        <p style="font-size: 12px;"> Enjoy our work? Tell us how you feel by</p>
        <ul class="nav">
          <li><a class="btn btn-default" onclick="load(event, 'login')" style="{{reverse_style}}"> Log in </a></li>
          <li><a class="btn btn-default" href="{%url 'logout' %}" style="{{profile_style}}"> Log out </a></li>
          <li><a class="btn btn-primary" onclick="load(event, 'signUp')" style="{{reverse_style}}"> Sign up </a></li>
        </ul>
        <p>
          <a class="btn btn-info btn-sm" onclick="load(event, 'forget')" style="display: inline; font-size: 10px;">Forget password</a>
          <a class="btn btn-info btn-sm" onclick="load(event, 'cancel')" style="display: inline; font-size: 10px;">Cancel Account</a>
        </p>
      </nav>  
    </div> 
  </nav>
</header>

<main class="" id="main-collapse">

<!-- Add your site or app content here -->
  <div class="hero-full-wrapper">
    <div class="login-description" id="event_box" hidden></div>
  </div>
  
  <div class="grid">
  <div class="gutter-sizer"></div>
    <div class="grid-sizer"></div>
    
    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-12.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>
  
    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-05.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>

    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-13.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>
    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-04.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>
    
    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-07.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>

    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-11.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>

    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-10.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>
    <div class="grid-item">
      <img class="img-responsive" alt="" src="{% static 'assets/images/img-03.jpg' %}">
      <a href="/project" class="project-description">
        <div class="project-text-holder">
          <div class="project-text-inner">
            <h3>Vivamus vestibulum</h3>
            <p>Discover more</p>
          </div>
        </div>
      </a>
    </div>
    <div class="last"></div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function (event) {
    masonryBuild();
  });
</script>

</main>
</body>

<script>
document.addEventListener("DOMContentLoaded", function (event) {
  navbarToggleSidebar();
  navActivePage();
});
</script>

<script>
document.addEventListener("scroll", function (event) {
  var lastY = window.scrollY; // where user scrolls to
  var totalY = document.body.offsetHeight; // the total height of our document // 2571
  // totalHeight = (document.height !== undefined) ? document.height : document.body.offsetHeight;
  var viewY = window.innerHeight; // the height of the viewport //861
  console.log("lastY "+lastY);
  console.log("totalY "+totalY);
  console.log("viewY "+viewY);
  console.log("Y "+document.height);
  // may have problem
  if (totalY < lastY + 2*viewY) {
    $(".grid").append("<div class='grid-item'><img class='img-responsive' alt='' src='{% static 'assets/images/img-03.jpg' %}'><a href='./project.html' class='project-description'><div class='project-text-holder'>    <div class='project-text-inner'>      <h3>Vivamus vestibulum</h3>      <p>Discover more</p>    </div>  </div></a></div>")
  }
  masonryBuild();
});
</script>

<script type="text/javascript" src="{% static 'js/main.js' %}"></script>
<script type="text/javascript" src="{% static 'js/external.js' %}"></script>
<script>
  document.addEventListener("DOMContentLoaded", function (event) {
    $(document).ajaxSend(function(event, xhr, settings){
      console.log("FUNCTIONING");
      if (settings.type == "POST") {
        console.log($("input[name=csrfmiddlewaretoken]").val());
        xhr.setRequestHeader("X-CSRFToken", $("input[name=csrfmiddlewaretoken]").val());
      }
    });
  });
</script>
</body>
</html>